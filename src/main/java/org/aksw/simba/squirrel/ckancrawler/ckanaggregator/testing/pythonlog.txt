from ckanapi.cli import dump
from ckanapi import RemoteCKAN
thing = ['dump', 'datasets']
arguments= ['-all', '-O', 'datasets.jsonl.gz', '-z', '-p', 1, '-r', 'https://demo.ckan.org/']
ckan = RemoteCKAN('http://demo.ckan.org/api')
dump._worker_command_line(thing,arguments)

Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/usr/local/lib/python2.7/dist-packages/ckanapi/cli/dump.py", line 243, in _worker_command_line
    + ['value-here-to-make-docopt-happy']
  File "/usr/local/lib/python2.7/dist-packages/ckanapi/cli/dump.py", line 232, in a
    return [name, arguments[name]] * (arguments[name] is not None)
TypeError: list indices must be integers, not str
